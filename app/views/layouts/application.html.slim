doctype html
html lang='en'
  head
    meta charset='utf8'
    meta name='viewport' content='width=device-width, initial-scale=1'
    title = application_name
    link href=asset_path('favicon.png') rel='icon' type='image/png'
    = stylesheet_pack_tag('application', media: 'all', 'data-turbolinks-track': true)
    = stylesheet_pack_tag('stylesheets', media: 'all', 'data-turbolinks-track': true)
    = stylesheet_link_tag('application', media: 'all', 'data-turbolinks-track': true)
    = javascript_pack_tag('application', 'data-turbolinks-track': true)
    = javascript_include_tag('application', 'data-turbolinks-track': true)
    = yield(:head)
    = csrf_meta_tags
  body
    nav.navbar.navbar-default role='navigation'
      .container
        .navbar-header
          button.navbar-toggle data-target='#navbar-collapse' data-toggle='collapse' type='button'
            span.sr-only Toggle navigation
            span.icon-bar
            span.icon-bar
            span.icon-bar
          .navbar-brand
            i.fa.fa-code
            = application_name
        #navbar-collapse.collapse.navbar-collapse
          = render('navigation', cached: true)
          ul.nav.navbar-nav.navbar-right
            = render('locale_selector', cached: true)
            li = link_to(t('shared.help.link'), '#modal-help', data: {toggle: 'modal'})
            = render('session')
    .container data-controller=controller_name
      = render('flash')
      = render('breadcrumbs')
    - if (controller_name == "exercises" && action_name == "implement")
      .container-fluid
        = yield
    - else
      .container
        = yield

    - template_variables = {execution_environment: @exercise.execution_environment} if action_name == 'implement'
    = render('shared/modal', classes: 'modal-lg', id: 'modal-help', template: 'application/help', template_variables: template_variables, title: t('shared.help.headline'))
